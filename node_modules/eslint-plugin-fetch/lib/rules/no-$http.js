'use strict';

/**
 * @fileoverview Prevent all angular $http
 * @author Jeff Dolle
 */

module.exports = function (context) {
  return {
    CallExpression: function CallExpression(node) {

      if (node.callee.type === 'MemberExpression') {
        var objectName = node.callee.object.name;

        if (objectName === '$http') {
          context.report({
            node: node,
            message: 'You should use \'fetch\' instead of \'$http\''
          });
        }
      } else if (node.callee.name === '$http') {
        context.report({
          node: node,
          message: 'You should use \'fetch\' instead of \'$http\''
        });
      }
    }
  };
};

module.exports.schema = [];